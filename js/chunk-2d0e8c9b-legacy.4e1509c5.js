(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e8c9b"],{"8b83":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-row",[o("v-col",{attrs:{cols:"12"}},[o("v-card",[o("v-card-title",{domProps:{textContent:e._s(e.$t("nodes.Edit"))}}),o("v-card-text",{staticClass:"mt-6"},[o("v-row",[o("v-col",[o("ui-input",{attrs:{label:e.$t("common.Name"),"hide-details":""},model:{value:e.node.name,callback:function(t){e.$set(e.node,"name",t)},expression:"node.name"}})],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"6"}},[o("ui-input",{attrs:{label:e.$t("nodes.PublicHost"),"hide-details":""},model:{value:e.node.publicHost,callback:function(t){e.$set(e.node,"publicHost",t)},expression:"node.publicHost"}})],1),o("v-col",{attrs:{cols:"12",md:"6"}},[o("ui-input",{attrs:{label:e.$t("nodes.PublicPort"),type:"number","hide-details":""},model:{value:e.node.publicPort,callback:function(t){e.$set(e.node,"publicPort",t)},expression:"node.publicPort"}})],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12"}},[o("ui-switch",{staticClass:"mt-0",attrs:{label:e.$t("nodes.WithPrivateAddress"),hint:e.$t("nodes.WithPrivateAddressHint")},model:{value:e.withPrivateAddress,callback:function(t){e.withPrivateAddress=t},expression:"withPrivateAddress"}})],1)],1),e.withPrivateAddress?o("v-row",[o("v-col",{attrs:{cols:"12",md:"6"}},[o("ui-input",{attrs:{label:e.$t("nodes.PrivateHost"),"hide-details":""},model:{value:e.node.privateHost,callback:function(t){e.$set(e.node,"privateHost",t)},expression:"node.privateHost"}})],1),o("v-col",{attrs:{cols:"12",md:"6"}},[o("ui-input",{attrs:{label:e.$t("nodes.PrivatePort"),type:"number","hide-details":""},model:{value:e.node.privatePort,callback:function(t){e.$set(e.node,"privatePort",t)},expression:"node.privatePort"}})],1)],1):e._e(),o("v-row",[o("v-col",[o("ui-input",{attrs:{label:e.$t("nodes.SftpPort"),type:"number","hide-details":""},model:{value:e.node.sftpPort,callback:function(t){e.$set(e.node,"sftpPort",t)},expression:"node.sftpPort"}})],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12"}},[o("v-btn",{attrs:{large:"",block:"",color:"success"},domProps:{textContent:e._s(e.$t("nodes.Update"))},on:{click:e.updateNode}})],1),o("v-col",{attrs:{cols:"12"}},[o("v-btn",{attrs:{block:"",color:"error"},domProps:{textContent:e._s(e.$t("nodes.Delete"))},on:{click:e.deleteNode}})],1),o("v-col",{attrs:{cols:"12"}},[o("v-btn",{attrs:{disabled:e.loadingDeploy,text:"",outlined:"",block:""},domProps:{textContent:e._s(e.$t("nodes.SaveConfig"))},on:{click:function(t){return e.downloadConfig()}}})],1),o("v-col",{attrs:{cols:"12"}},[o("span",{domProps:{innerHTML:e._s(e.markdown(e.$t("nodes.DeploymentInstruction")))}})])],1)],1)],1)],1)],1)},a=[],r=o("5530"),s=o("1da1"),i=(o("e9c4"),o("d3b7"),o("3ca3"),o("ddb0"),o("2b3d"),o("9861"),o("96cf"),o("8e36")),d={data:function(){return{loading:!0,loadingDeploy:!0,withPrivateAddress:!1,node:{},deployment:{clientId:"",clientSecret:""},configTemplate:{logs:"/var/log/pufferpanel",web:{},token:{public:location.protocol+"//"+location.host+"/auth/publickey"},panel:{enable:!1},daemon:{auth:{url:location.protocol+"//"+location.host+"/oauth2/token"},data:{cache:"/var/lib/pufferpanel/cache",servers:"/var/lib/pufferpanel/servers"},sftp:{}}}}},mounted:function(){this.loadData()},methods:{loadData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.getNode(e.$route.params.id);case 2:return e.node=t.sent,e.withPrivateAddress=e.node.publicHost!==e.node.privateHost||e.node.publicPort!==e.node.privatePort,e.loading=!1,t.next=7,e.$api.getNodeDeployment(e.$route.params.id);case 7:e.deployment=t.sent,e.loadingDeploy=!1;case 9:case"end":return t.stop()}}),t)})))()},updateNode:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.updateNode(e.$route.params.id,e.node);case 2:e.$toast.success(e.$t("nodes.UpdateSuccess"));case 3:case"end":return t.stop()}}),t)})))()},deleteNode:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.deleteNode(e.$route.params.id);case 2:e.$router.push({name:"Nodes"});case 3:case"end":return t.stop()}}),t)})))()},downloadConfig:function(){var e=Object(r["a"])({},this.configTemplate);e.daemon.auth.clientId=this.deployment.clientId,e.daemon.auth.clientSecret=this.deployment.clientSecret,e.daemon.sftp.host="0.0.0.0:".concat(this.node.sftpPort),e.web.host="0.0.0.0:".concat(this.node.privatePort),this.download(JSON.stringify(e,void 0,2),"config.json")},download:function(e,t,o){o||(o="application/octet-stream");var n=document.createElement("a"),a=new Blob([e],{type:o});n.href=window.URL.createObjectURL(a),n.download=t,n.click()},markdown:i["a"]}},l=d,c=o("2877"),u=o("6544"),p=o.n(u),v=o("8336"),m=o("b0af"),b=o("99d9"),f=o("62ad"),h=o("0fd9"),w=Object(c["a"])(l,n,a,!1,null,null,null);t["default"]=w.exports;p()(w,{VBtn:v["a"],VCard:m["a"],VCardText:b["c"],VCardTitle:b["d"],VCol:f["a"],VRow:h["a"]})}}]);
//# sourceMappingURL=chunk-2d0e8c9b-legacy.4e1509c5.js.map