(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b3289"],{"26d3":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",{attrs:{loading:e.panelSettingsLoading,disabled:e.panelSettingsLoading}},[a("v-card-title",{domProps:{textContent:e._s(e.$t("settings.PanelSettings"))}}),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("ui-input",{attrs:{"end-icon":"mdi-auto-fix",label:e.$t("settings.MasterUrl"),hint:e.$t("settings.MasterUrlHint")},on:{"click:append":e.autofillMasterUrl},model:{value:e.masterUrl,callback:function(t){e.masterUrl=t},expression:"masterUrl"}})],1),a("v-col",{attrs:{cols:"12"}},[a("ui-input",{attrs:{label:e.$t("settings.CompanyName")},model:{value:e.panelTitle,callback:function(t){e.panelTitle=t},expression:"panelTitle"}})],1),a("v-col",{attrs:{cols:"12"}},[a("ui-select",{attrs:{label:e.$t("settings.DefaultTheme"),items:e.themes},model:{value:e.defaultTheme,callback:function(t){e.defaultTheme=t},expression:"defaultTheme"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-checkbox",{staticClass:"mt-0",attrs:{label:e.$t("settings.RegistrationEnabled"),"error-count":2,messages:[e.$t("settings.RegistrationEnabledHint1"),e.$t("settings.RegistrationEnabledHint2")]},model:{value:e.registrationEnabled,callback:function(t){e.registrationEnabled=t},expression:"registrationEnabled"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{large:"",block:"",color:"success"},domProps:{textContent:e._s(e.$t("common.Save"))},on:{click:function(t){return e.savePanelConfig()}}})],1)],1)],1)],1)],1),a("v-col",{attrs:{cols:"12"}},[a("v-card",{attrs:{loading:e.emailSettingsLoading,disabled:e.emailSettingsLoading}},[a("v-card-title",{domProps:{textContent:e._s(e.$t("settings.EmailSettings"))}}),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("ui-select",{attrs:{label:e.$t("settings.EmailProvider"),items:e.emailProviders},model:{value:e.emailProvider,callback:function(t){e.emailProvider=t},expression:"emailProvider"}})],1),e._l(e.emailFields,(function(t){return a("v-col",{key:t,attrs:{cols:"12"}},[a("ui-input",{attrs:{label:e.$t("settings.emailFields."+t)},model:{value:e.email[t],callback:function(a){e.$set(e.email,t,a)},expression:"email[key]"}})],1)})),a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{large:"",block:"",color:"success"},domProps:{textContent:e._s(e.$t("common.Save"))},on:{click:function(t){return e.saveEmailConfig()}}})],1)],2)],1)],1)],1)],1)],1)},i=[],r=a("1da1"),s=(a("96cf"),a("d81d"),a("b64b"),a("d3b7"),a("25f0"),{none:[],smtp:["from","host","username","password"],mailgun:["domain","from","key"],mailjet:["domain","from","key"]}),l={data:function(){return{panelSettingsLoading:!0,masterUrl:"",panelTitle:"",defaultTheme:"",registrationEnabled:!0,themes:["PufferPanel"],emailSettingsLoading:!0,emailProvider:"none",emailProviders:[],emailFields:[],email:{from:"",domain:"",key:"",host:"",username:"",password:""}}},watch:{emailProvider:function(e){this.emailFields=s[e]}},mounted:function(){var e=this;Object.keys(s).map((function(t){e.emailProviders.push({text:e.$t("settings.emailProviders."+t),value:t})})),this.loadData()},beforeDestroy:function(){0},methods:{loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.getSetting("panel.settings.masterUrl");case 2:return e.masterUrl=t.sent,t.next=5,e.$api.getSetting("panel.settings.companyName");case 5:return e.panelTitle=t.sent,t.next=8,e.$api.getSetting("panel.settings.defaultTheme");case 8:return e.defaultTheme=t.sent,t.next=11,e.$api.getConfig();case 11:return e.themes=t.sent.themes.available,t.next=14,e.$api.getSetting("panel.registrationEnabled");case 14:return a=t.sent,e.registrationEnabled="true"===a.toString(),e.panelSettingsLoading=!1,t.next=19,e.$api.getSetting("panel.email.provider");case 19:e.emailProvider=t.sent,Object.keys(e.email).map(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.getSetting("panel.email."+a);case 2:e.email[a]=t.sent;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.emailSettingsLoading=!1;case 22:case"end":return t.stop()}}),t)})))()},autofillMasterUrl:function(){this.masterUrl=window.location.origin},savePanelConfig:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.panelSettingsLoading=!0,t.prev=1,t.next=4,e.$api.setSettings({"panel.settings.masterUrl":e.masterUrl,"panel.settings.companyName":e.panelTitle,"panel.settings.defaultTheme":e.defaultTheme,"panel.registrationEnabled":e.registrationEnabled});case 4:e.$toast.success(e.$t("common.Saved"));case 5:return t.prev=5,e.panelSettingsLoading=!1,t.finish(5);case 8:e.loadData();case 9:case"end":return t.stop()}}),t,null,[[1,,5,8]])})))()},saveEmailConfig:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.emailSettingsLoading=!0,t.prev=1,a={"panel.email.provider":e.emailProvider},Object.keys(e.email).map((function(t){a["panel.email."+t]=e.email[t]})),t.next=6,e.$api.setSettings(a);case 6:e.$toast.success(e.$t("common.Saved"));case 7:return t.prev=7,e.emailSettingsLoading=!1,t.finish(7);case 10:e.loadData();case 11:case"end":return t.stop()}}),t,null,[[1,,7,10]])})))()}}},o=l,c=a("2877"),m=a("6544"),u=a.n(m),d=a("8336"),g=a("b0af"),p=a("99d9"),v=a("ac7c"),f=a("62ad"),b=a("a523"),h=a("0fd9"),x=Object(c["a"])(o,n,i,!1,null,null,null);t["default"]=x.exports;u()(x,{VBtn:d["a"],VCard:g["a"],VCardText:p["c"],VCardTitle:p["d"],VCheckbox:v["a"],VCol:f["a"],VContainer:b["a"],VRow:h["a"]})}}]);
//# sourceMappingURL=chunk-2d0b3289-legacy.03f43025.js.map