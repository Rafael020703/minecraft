(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2211c2b0"],{"269ae":function(e,t){e.exports=function(e,t){var s="function"===typeof e.exports?e.exports.extendOptions:e.options;for(var i in"function"===typeof e.exports&&(s.directives=e.exports.options.directives),s.directives=s.directives||{},t)s.directives[i]=s.directives[i]||t[i]}},ed81:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[s("h1",{domProps:{textContent:e._s(e.$t("users.Users"))}}),s("v-row",[s("v-col",[s("v-list",{attrs:{"two-line":"",elevation:"1"}},e._l(e.users,(function(t,i){return s("div",{key:t.id},[s("v-list-item",{directives:[{name:"hotkey",rawName:"v-hotkey",value:"u "+(i+1),expression:"'u ' + (index + 1)"}],attrs:{to:e.hasScope("users.edit")||e.isAdmin()?{name:"User",params:{id:t.id}}:void 0}},[s("v-list-item-content",[s("v-list-item-title",{domProps:{textContent:e._s(t.username)}}),s("v-list-item-subtitle",{domProps:{textContent:e._s(t.email)}})],1)],1),i!==e.users.length-1?s("v-divider"):e._e()],1)})),0),e.page<e.pageCount?s("v-row",{directives:[{name:"intersect",rawName:"v-intersect",value:e.lazyLoad,expression:"lazyLoad"}],ref:"lazy"},[s("v-col",{attrs:{cols:"2",offset:"5"}},[s("v-progress-circular",{staticClass:"mr-2",attrs:{indeterminate:""}}),s("span",{domProps:{textContent:e._s(e.$t("common.Loading"))}})],1)],1):e._e(),s("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.hasScope("users.edit")||e.isAdmin(),expression:"hasScope('users.edit') || isAdmin()"}],attrs:{color:"primary",bottom:"",right:"",fixed:"",fab:"",dark:"",large:"",to:{name:"AddUser"}}},[s("v-icon",[e._v("mdi-plus")])],1)],1)],1)],1)},a=[],n={data(){return{loading:!1,users:[],page:0,pageCount:1}},methods:{recheckLazy(){const e=this.$refs.lazy.getBoundingClientRect(),t=Math.max(document.documentElement.clientHeight,window.innerHeight);!(e.bottom<0||e.top-t>=0)&&this.page<this.pageCount&&this.loadNextPage()},lazyLoad(e,t,s){s&&this.loadNextPage()},async loadNextPage(){if(this.loading)return;this.loading=!0;const{users:e,pages:t}=await this.$api.getUsers(this.page+1);e.filter(e=>0===this.users.filter(t=>e.id===t.id).length).forEach(e=>this.users.push(e)),this.page=this.page+1,this.pageCount=t,this.loading=!1,this.recheckLazy()}}},o=n,r=s("2877"),d=s("6544"),c=s.n(d),l=s("8336"),u=s("62ad"),p=s("a523"),m=s("ce7e"),v=s("132d"),h=s("8860"),g=s("da13"),f=s("5d23"),x=s("490a"),w=s("0fd9"),y=s("269ae"),C=s.n(y),V=s("90a2"),b=Object(r["a"])(o,i,a,!1,null,null,null);t["default"]=b.exports;c()(b,{VBtn:l["a"],VCol:u["a"],VContainer:p["a"],VDivider:m["a"],VIcon:v["a"],VList:h["a"],VListItem:g["a"],VListItemContent:f["a"],VListItemSubtitle:f["b"],VListItemTitle:f["c"],VProgressCircular:x["a"],VRow:w["a"]}),C()(b,{Intersect:V["a"]})}}]);
//# sourceMappingURL=chunk-2211c2b0.143407fd.js.map