(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e68b3"],{"98ca":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("h1",{domProps:{textContent:t._s(t.$t("templates.Templates"))}}),o("v-row",[o("v-col",[o("v-list",{staticClass:"pt-2",attrs:{subheader:"",elevation:"1"}},[t._l(t.templates,(function(e,a,r){return o("div",{key:a},[1!==Object.keys(t.templates).length?o("v-subheader",{class:t.$isDark()?t.headerClasses.dark:t.headerClasses.light,domProps:{textContent:t._s(a)}}):t._e(),t._l(t.templates[a],(function(e){return o("div",{key:e.name},[o("v-list-item",{attrs:{to:t.hasScope("templates.edit")||t.isAdmin()?{name:"Template",params:{id:e.name}}:void 0}},[o("v-list-item-content",[o("v-list-item-title",{domProps:{textContent:t._s(e.display)}})],1)],1)],1)})),r!==Object.keys(t.templates).length-1?o("v-divider"):t._e()],2)})),0===Object.keys(t.templates).length?o("div",{staticClass:"pt-2 text-center text--disabled"},[t.loading?o("span",{domProps:{textContent:t._s(t.$t("common.Loading"))}}):o("span",{domProps:{textContent:t._s(t.$t("templates.NoTemplates"))}})]):t._e()],2),o("div",{staticStyle:{position:"fixed",bottom:"16px",right:"16px",display:"flex","flex-direction":"column","align-items":"center"}},[o("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[o("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:t.hasScope("templates.edit")||t.isAdmin(),expression:"hasScope('templates.edit') || isAdmin()"}],staticClass:"mb-4",attrs:{color:"primary",fab:"",dark:"",small:""},on:{click:t.loadTemplateImporter}},a),[o("v-icon",[t._v("mdi-import")])],1)]}}])},[o("span",{domProps:{textContent:t._s(t.$t("templates.import.Tooltip"))}})]),o("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.hasScope("templates.edit")||t.isAdmin(),expression:"hasScope('templates.edit') || isAdmin()"}],attrs:{color:"primary",fab:"",dark:"",large:"",to:{name:"AddTemplate"}}},[o("v-icon",[t._v("mdi-plus")])],1)],1)],1)],1),o("ui-overlay",{attrs:{card:"",closable:"",title:t.$t("templates.import.Import")},model:{value:t.showTemplateImporter,callback:function(e){t.showTemplateImporter=e},expression:"showTemplateImporter"}},[o("v-alert",{attrs:{border:"bottom",text:"",type:"warning",dense:""}},[t._v(" "+t._s(t.$t("templates.import.CommunityWarning"))+" ")]),o("v-alert",{attrs:{border:"bottom",text:"",type:"warning",dense:""}},[t._v(" "+t._s(t.$t("templates.import.OverrideWarning"))+" ")]),o("v-autocomplete",{attrs:{items:t.importableTemplates,chips:"",label:t.$t("templates.import.Select"),multiple:"",clearable:"","deletable-chips":"","hide-selected":"",outlined:"","open-on-clear":""},model:{value:t.templatesToImport,callback:function(e){t.templatesToImport=e},expression:"templatesToImport"}}),o("v-row",[o("v-col",[o("v-btn",{attrs:{block:"",color:"error"},domProps:{textContent:t._s(t.$t("common.Cancel"))},on:{click:function(e){t.showTemplateImporter=!1}}})],1),o("v-col",[o("v-btn",{attrs:{block:"",color:"success"},domProps:{textContent:t._s(t.$t("templates.import.Import"))},on:{click:function(e){return t.doImports()}}})],1)],1)],1),o("ui-overlay",{attrs:{card:"",closable:"",title:t.$t("templates.import.NoTemplatesTitle")},model:{value:t.offerImport,callback:function(e){t.offerImport=e},expression:"offerImport"}},[o("v-row",[o("v-col",[o("span",{domProps:{innerHTML:t._s(t.$t("templates.import.NoTemplatesContent"))}})])],1),o("v-row",[o("v-col",[o("v-btn",{attrs:{block:"",color:"error"},domProps:{textContent:t._s(t.$t("common.Cancel"))},on:{click:function(e){return t.importDeclined()}}})],1),o("v-col",[o("v-btn",{attrs:{block:"",color:"success"},domProps:{textContent:t._s(t.$t("templates.import.Import"))},on:{click:function(e){t.offerImport=!1,t.loadTemplateImporter()}}})],1)],1)],1)],1)},r=[],s=o("5530"),n=o("1da1"),l=(o("96cf"),o("d81d"),o("b0c0"),o("b64b"),o("d3b7"),{data:function(){return{loading:!0,templates:{},headerClasses:{light:"body-1 grey font-weight-bold lighten-4 black--text",dark:"body-1 grey font-weight-bold darken-4 white--text"},offerImport:!1,showTemplateImporter:!1,importableTemplates:[],templatesToImport:[],unproxiedTheme:this.$vuetify.theme}},mounted:function(){var t=this;this.loadData();var e=new Proxy(this.$vuetify.theme,{set:function(e,o,a){return t.$forceUpdate(),e[o]=a,!0}});this.$vuetify.theme=e},beforeDestroy:function(){this.$vuetify.theme=this.unproxiedTheme},methods:{loadData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var o,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,t.templates={},e.next=4,t.$api.getTemplates();case 4:o=e.sent,o.map((function(e){e.display||(e.display=e.name),e.type||(e.type="none"),t.templates[e.type]||(t.templates[e.type]=[]),t.templates[e.type].push(e)})),a=Object.keys(t.templates),r=a.indexOf("other"),-1!==r&&t.$delete(a,r),a.map((function(e){1===t.templates[e].length&&(t.templates.other||(t.templates.other=[]),t.templates.other.push(t.templates[e][0]),delete t.templates[e])})),t.templates=Object(s["a"])({},t.templates),t.loading=!1,0===o.length&&"false"!==localStorage.getItem("offerTemplateImport")&&(t.offerImport=!0);case 13:case"end":return e.stop()}}),e)})))()},loadTemplateImporter:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.importableTemplates=[],t.templatesToImport=[],e.next=4,t.$api.getImportableTemplates();case 4:t.importableTemplates=e.sent,t.showTemplateImporter=!0;case 6:case"end":return e.stop()}}),e)})))()},doImports:function(){var t=this;t.loading=!0,t.showTemplateImporter=!1,t.$toast.info(this.$t("templates.import.Started")),t.templatesToImport.reduce((function(e,o){return e.finally((function(){return t.importTemplate(t,o)}))}),Promise.resolve()).finally((function(){t.loadData()}))},importTemplate:function(t,e){return Object(n["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.$api.importTemplate(e);case 2:t.$toast.success(t.$t("templates.import.Successful",{template:e}));case 3:case"end":return o.stop()}}),o)})))()},importDeclined:function(){this.offerImport=!1,localStorage.setItem("offerTemplateImport","false")}}}),i=l,m=o("2877"),p=o("6544"),c=o.n(p),d=o("0798"),u=o("c6a6"),f=o("8336"),h=o("62ad"),v=o("a523"),b=o("ce7e"),T=o("132d"),w=o("8860"),g=o("da13"),x=o("5d23"),I=o("0fd9"),y=o("e0c7"),k=o("3a2f"),$=Object(m["a"])(i,a,r,!1,null,null,null);e["default"]=$.exports;c()($,{VAlert:d["a"],VAutocomplete:u["a"],VBtn:f["a"],VCol:h["a"],VContainer:v["a"],VDivider:b["a"],VIcon:T["a"],VList:w["a"],VListItem:g["a"],VListItemContent:x["a"],VListItemTitle:x["c"],VRow:I["a"],VSubheader:y["a"],VTooltip:k["a"]})}}]);
//# sourceMappingURL=chunk-2d0e68b3-legacy.3364ae7e.js.map